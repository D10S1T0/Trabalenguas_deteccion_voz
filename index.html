<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detector de Trabalenguas</title>
    <link rel="stylesheet" href="estilos/base.css">
    <link rel="stylesheet" href="estilos/animaciones.css">
    <link rel="stylesheet" href="estilos/puntuaciones.css">
</head>

<body>
<div class="contenedor">
    <h1>Trabalenguas</h1>
    <p class="subtitulo">Pronuncia el trabalenguas y recibe puntuación</p>

    <div id="twisterDisplay" class="trabalenguas">Cargando trabalenguas...</div>
    
    <div class="controles">
        <button id="startBtn">Iniciar Grabación</button>
        <button id="stopBtn" disabled>Detener Grabación</button>
        <button id="customTwisterBtn">Nuevo Trabalenguas</button>
        <button id="showAnimationBtn">Ver animación</button>
    </div>
    
    <div id="customTwisterContainer" class="contenedor-trabalenguas-personalizado" style="display:none">
        <textarea id="customTwisterInput" placeholder="Escribe tu trabalenguas aquí..." rows="3"></textarea>
        <div class="controles">
            <button id="saveCustomTwister">Guardar</button>
            <button id="cancelCustomTwister">Cancelar</button>
        </div>
    </div>
    
    <div class="controles">
        <button id="anteriorBtn">← Ant</button>
        <button id="generarBtn">Generar trabalenguas</button>
        <button id="siguienteBtn">Sig →</button>
    </div>
    
    <div id="imagenPromedioContainer" class="contenedor-imagen-promedio" style="display: none;">
        <h3>Calificación Promedio</h3>
        <img id="imagenPromedio" src="" alt="Calificación" class="imagen-promedio">
    </div>
    
    <p id="recognitionStatus" class="pequeno-tenue">Micrófono inactivo</p>
    
    
    <div id="listaTrabalenguas" class="transcripcion-continua"></div>
    
    <div class="controles">
        <input type="password" id="apiKeyInput" placeholder="Ingresa tu API Key de Google Gemini" 
            style="padding: 8px 12px; border: 1px solid #22c55e; border-radius: 4px; width: 300px; margin-right: 10px;">
        <button id="generarBtn">Ingresar API Key</button>
    </div>

    <p>Ve a <a class = "link-verde" href="https://aistudio.google.com/api-keys">Google Studio,</a> crea una cuenta, déspues crea un proyecto, para finalmente crear una API Key :V</p>


    <div id="transcripcionContinua" class="transcripcion-continua"></div>

    <div class="mostrar-puntuacion" id="globalScore">0%</div>

    <div class="barra-progreso">
        <div id="progressBar" class="relleno-progreso"></div>
    </div>

    <div id="finalMessage" class="mensaje-resultado"></div>

    <div id="wordTable" class="resultado-analisis">
        <div class="puntuacion-palabra encabezado">
            <span class="texto-palabra">Dicho</span>
            <span class="texto-palabra">Original</span>
            <span>Puntuación</span>
        </div>
    </div>
</div>

<div id="animationOverlay" class="capa-animacion">
    <img id="animationImage" class="imagen-animacion" src="" alt="Resultado">
    <div id="animationText" class="texto-animacion"></div>
    <button id="skipAnimation" class="saltar-animacion">Saltar</button>
</div>
<script src="scripts/listarTrabalenguas.js"></script>
<script src="scripts/data.js"></script>
<script src="scripts/reconocimientoVoz.js"></script>
<script src="scripts/analisisVoz.js"></script>
<script src="scripts/nuevoTrabalenguas.js"></script>
<script src="scripts/animacionesMusica.js"></script>
<script src="scripts/main.js"></script>
<script src="scripts/generarTrabalenguas.js"></script>
</body>
</html>